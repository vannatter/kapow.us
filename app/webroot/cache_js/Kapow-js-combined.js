var msg_timeout;var load_hot_timeout;$(document).ready(function(){$(".contact_btn").on("click",function(g){var d=$("#first_name").val();var a=$("#last_name").val();var b=$("#email").val();var c=$("#subject").val();var f=$("#message").val();if(!d){alert("First Name is required")}else{if(!a){alert("Last Name is required")}else{if(!b){alert("Email is required")}else{if(!c){alert("Subject is required")}else{if(!f){alert("Message is required")}else{$("#contact_frm").submit()}}}}}});$("button.toggle_favorite").on("click",function(c){c.preventDefault();var b=$(this);var d=b.attr("data-id");var a=b.attr("data-type");$.getJSON("/favorites/toggle",{id:d,type:a},function(e){if(!e.error){if(e.type==1){b.find("span").text("Remove Favorite")}else{b.find("span").text("Add Favorite")}}});return false});$(document).on("click","button.pull_list_btn",function(b){b.preventDefault();var a=$(this);var c=a.attr("data-id");$.getJSON("/pulls/toggle",{id:c},function(d){if(d.error){flash(d.message,3000)}else{if(d.type==1){a.find("span").text("Remove Pull").parent().removeClass("btn-off").addClass("btn-on").find("i").removeClass("icon-white").addClass("icon-black");flash("Added to your pull list",3000)}else{a.find("span").text("Pull List").parent().removeClass("btn-on").addClass("btn-off").find("i").removeClass("icon-black").addClass("icon-white");flash("Removed from your pull list",3000)}}});return false});$(document).on("click","li a.pull_list_btn",function(b){b.preventDefault();var a=$(this);var c=a.attr("data-id");$.getJSON("/pulls/toggle",{id:c},function(d){if(d.error){flash(d.message,3000)}else{if(d.type==1){a.text("Remove from Pull List").parent().addClass("fav_on");flash("Added to your pull list!",3000)}else{a.text("Add to Pull List").parent().removeClass("fav_on");flash("Removed from your pull list!",3000)}}});return false});$(document).on("click","li a.library_btn",function(b){b.preventDefault();var a=$(this);var c=a.attr("data-id");$.getJSON("/ajax/toggle_library",{id:c},function(d){if(d.error){flash(d.message,3000)}else{if(d.type==1){a.text("Remove from Library").parent().addClass("fav_on");$("li a.pull_list_btn").text("Add to Pull List").parent().removeClass("fav_on");flash("Added to your library!",3000)}else{a.text("Add to Library").parent().removeClass("fav_on");flash("Removed from your library!",3000)}}});return false});$(".flash_pos, .flash_neg").click(function(){$(this).fadeOut()});if($(".flash_pos").length>0){$(".flash_pos").click(function(){$(this).hide()});$(".flash_pos").animate({delay:1},5000,function(){$(this).fadeOut()})}});function flash(b,a){if(!a){a=3000}clearTimeout(msg_timeout);$("#flash_msg").html(b);$("#flash_msg").fadeIn();msg_timeout=setTimeout(function(){$("#flash_msg").fadeOut()},a)}var load_hot=setInterval(function(){if($(".hot_sect").length>0){$(".hot_hold").load("/random_item?ts="+(new Date).getTime(),flash_hot_sect)}},20000);function flash_hot_sect(){$(".hot_sect").fadeOut("slow",function(){$(".hot_sect").html($(".hot_hold").html());$(".hot_sect").fadeIn("slow")})};