function flash(e,t){t||(t=3e3);clearTimeout(msg_timeout);$("#flash_msg").html(e);$("#flash_msg").fadeIn();msg_timeout=setTimeout(function(){$("#flash_msg").fadeOut()},t)}function flash_hot_sect(){$(".hot_sect").fadeOut("slow",function(){$(".hot_sect").html($(".hot_hold").html());$(".hot_sect").fadeIn("slow")})}var msg_timeout,load_hot_timeout;$(document).ready(function(){$(".contact_btn").on("click",function(e){var t=$("#first_name").val(),n=$("#last_name").val(),r=$("#email").val(),i=$("#subject").val(),s=$("#message").val();t?n?r?i?s?$("#contact_frm").submit():alert("Message is required"):alert("Subject is required"):alert("Email is required"):alert("Last Name is required"):alert("First Name is required")});$("button.toggle_favorite").on("click",function(e){e.preventDefault();var t=$(this),n=t.attr("data-id"),r=t.attr("data-type");$.getJSON("/favorites/toggle",{id:n,type:r},function(e){e.error||(e.type==1?t.find("span").text("Remove Favorite"):t.find("span").text("Add Favorite"))});return!1});$(document).on("click","button.pull_list_btn",function(e){e.preventDefault();var t=$(this),n=t.attr("data-id");$.getJSON("/pulls/toggle",{id:n},function(e){if(e.error)flash(e.message,3e3);else if(e.type==1){t.find("span").text("Remove Pull").parent().removeClass("btn-off").addClass("btn-on").find("i").removeClass("icon-white").addClass("icon-black");flash("Added to your pull list",3e3)}else{t.find("span").text("Pull List").parent().removeClass("btn-on").addClass("btn-off").find("i").removeClass("icon-black").addClass("icon-white");flash("Removed from your pull list",3e3)}});return!1});$(document).on("click","li a.pull_list_btn",function(e){e.preventDefault();var t=$(this),n=t.attr("data-id");$.getJSON("/pulls/toggle",{id:n},function(e){if(e.error)flash(e.message,3e3);else if(e.type==1){t.text("Remove from Pull List").parent().addClass("fav_on");flash("Added to your pull list!",3e3)}else{t.text("Add to Pull List").parent().removeClass("fav_on");flash("Removed from your pull list!",3e3)}});return!1});$(document).on("click","li a.library_btn",function(e){e.preventDefault();var t=$(this),n=t.attr("data-id");$.getJSON("/ajax/toggle_library",{id:n},function(e){if(e.error)flash(e.message,3e3);else if(e.type==1){t.text("Remove from Library").parent().addClass("fav_on");$("li a.pull_list_btn").text("Add to Pull List").parent().removeClass("fav_on");flash("Added to your library!",3e3)}else{t.text("Add to Library").parent().removeClass("fav_on");flash("Removed from your library!",3e3)}});return!1});$(".flash_pos, .flash_neg").click(function(){$(this).fadeOut()});if($(".flash_pos").length>0){$(".flash_pos").click(function(){$(this).hide()});$(".flash_pos").animate({delay:1},5e3,function(){$(this).fadeOut()})}});var load_hot=setInterval(function(){$(".hot_sect").length>0&&$(".hot_hold").load("/random_item?ts="+(new Date).getTime(),flash_hot_sect)},2e4);